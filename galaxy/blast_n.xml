<tool id="blast_n" name="blast_n" version="0.0.2">
	<description>
		Submit a collection of fasta reads to blastn and output the organism  
	</description>

	<requirements>
	</requirements>
	
	<version_command><![CDATA[
		python $__tool_directory__/../python/src/jpleyte/reproduce/pmid33033132/blast_n.py --version
	]]>
	</version_command>
	
	<command detect_errors="exit_code"><![CDATA[
		python $__tool_directory__/../python/src/jpleyte/reproduce/pmid33033132/blast_n.py
			--in_file "${fasta_file}" 
			--out_file "${summary_out_file}"
	]]>
	</command>
	
	<environment_variables>
		<environment_variable name="PYTHONPATH">$__tool_directory__/../python/src</environment_variable>
	</environment_variables>
	
	<inputs>
		<param name="fasta_file" 
		       optional="false" 
		       format="fasta"
		       type="data"
		       label="Fasta file"
		       help="Fasta file"/>
	</inputs>
	
	<outputs>
		<data name="summary_out_file" label="Summary of input file(s)" format="txt"/>
	</outputs>
	
	<tests>
   		<test>
  			<param name="fasta_file" value="SRR12352293_1.fasta" ftype="fasta"/>
  			<output name="summary_out_file" ftype="txt">
  				<assert_contents>
  					<has_n_lines n="1"/>
  				</assert_contents>
  			</output>
  		</test>
	</tests>
	
	<help><![CDATA[
		Usage: blast_n.py [--version]
						   --in_file IN_FILE 
						   --out_file OUT_FILE
		]]>
	</help>
	
	<citations>
  		<citation type="bibtex">
		@misc{tx_eff_control,
		  author = {Pleyte, Jay},
		  year = {2022},
		  title = {Test Script},
		  publisher = {OHSU},
		  url = {https://github.com/jPleyte/reproduce-results-from-metagenomics-of-wastewater-influent-from-southern-california},
		}
		</citation>
  	</citations>
</tool>